<!DOCTYPE html>
<html>

<head>
  <title>Simple Prompt Manager</title>
  <link rel="stylesheet" href="styles.css" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
  <div class="title">
    <img class="header-icon" src="../icons/icon128.png" alt="Extension Icon" style="width: 22px; height: 22px" />
    <h2>Open Prompt Manager</h2>
    <a href="index.html" target="_blank">
      <img id="open-new-tab" class="header-icon" src="../icons/open_in_new.svg" alt="Open in New Tab"
        title="Open in New Tab" />
    </a>
  </div>
  <form id="prompt-form">
    <input type="hidden" id="prompt-index" />
    <input type="text" id="prompt-title" placeholder="Prompt Title" required />
    <textarea id="prompt-content" placeholder="Enter your prompt here - Use #variablename# for dynamic values." required style="height: 100%"></textarea>
    <button class="main" type="submit" id="submit-button">
      <img src="../icons/add-icon.png" alt="Add" style="margin-right: 5px" />
      Save prompt
    </button>
    <button type="button" id="cancel-edit-button" style="display: none">
      Cancel
    </button>
  </form>
  <div id="info-banner" class="info-banner" role="status" aria-live="polite">
    <button id="info-banner-close" class="info-banner-close" aria-label="Dismiss info banner">&times;</button>
    <h3 class="info-banner-title">Permissions Update - Please Read</h3>
    <br />
    <p class="info-banner-text">To enable support for new LLMs without disabling the extension every time, I've added the "Tabs" permission.</p> 
    <br />
    <p class="info-banner-text">It's used for two purposes only:</p>
    <ul class="info-banner-list">
      <li>Detecting if you're on a site that supports the extension</li>
      <li>Opening the permissions manager upon installing the extension</li>
    </ul>
    <br />
    <p class="info-banner-text">Unfortunately, the "tabs" permission translates to "Read your browser history", <strong>which I will never do.</strong></p>
    <br />
    <p class="info-banner-text">Permissions management is handled using the <strong><a href="../permissions/permissions.html" target="_blank">lock icon</a></strong> on the bottom right of the side panel.</p>
    <br />
    <p class="info-banner-text">For the many users that have shown support, shared feedback, and used the extension, I'd like to take the occasion to say <strong>thank you</strong>.</p>
    <br />
    <p class="info-banner-text">Don't hesitate to review <a href="https://chromewebstore.google.com/detail/open-prompt-manager/gmhaghdbihgenofhnmdbglbkbplolain" target="_blank">Open Prompt Manager</a> on the Chrome Web Store.</p>
  </div>
  <div class="prompts-container">
    <div class="prompts-section">
      <ul id="prompt-list">

      </ul>
      <!-- Add title and message about storage changes -->
      <div id="empty-state" class="shortcut-container" style="display: none">
        <h3>Keyboard Navigation &amp; Shortcuts</h3>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: #0077b6;
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">
            Hover/Click </span> <span>Open prompt list buttons</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: #0077b6;
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">
            ⌘ + ⇧ + P or Ctrl + M </span> <span>Open / close prompt list</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: #0077b6;
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">↑↓</span> <span>Navigate the prompt list</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: #0077b6;
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">Enter</span> <span>Select a prompt</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: #0077b6;
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">Esc</span> <span>Close the prompt manager</span> </p>
      </div>
    </div>
  </div>
  <div class="dataimpexp">
    <button class="main" id="export-btn">Export prompts</button>
    <span></span>
    <button class="main" id="import-btn">Import prompts</button>
    <input type="file" id="import-file" accept=".json" hidden />
  </div>
  <p></p>
  <!-- Sticky footer for icons/links -->
  <footer class="footer">
    <div class="footer-icons">
      <a id="link" href="https://github.com/jonathanbertholet/promptmanager"
        target="_blank" title="Github"><img class="footer-icons" src="../icons/github-icon.png" alt="Github"
          style="margin-right: 5px" /></a>
      <a id="link" href="https://chromewebstore.google.com/detail/open-prompt-manager/gmhaghdbihgenofhnmdbglbkbplolain"
        target="_blank" title="Review me"><img class="footer-icons" src="../icons/review-icon.png" alt="Review me"
          style="margin-right: 5px" /></a>
      <a id="link" href="../settings.html" style="margin-right: 5px" title="Settings"><img id="settings-icon" class="footer-icons"
          src="../icons/settings-icon.png" alt="Settings" /></a>
      <!-- 
        <a id="link" href="../changelog.html" title="Changelog" style="margin-right: 5px">
          <img class="footer-icons" src="../icons/notes.svg" alt="Changelog" />
        </a>
        Changelog link commented out for now. 
      -->
      <a id="link" href="../permissions/permissions.html" title="Open Permissions Manager" target="_blank"><img id="permissions-icon" class="footer-icons" src="../icons/permissions-icon.svg"
          alt="Open Permissions Manager" /></a>
    </div>
  </footer>
  <script type="module" src="sidepanel.js"></script>

</body>

</html>