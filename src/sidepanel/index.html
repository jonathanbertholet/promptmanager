<!DOCTYPE html>
<html>

<head>
  <title>Simple Prompt Manager</title>
  <link rel="stylesheet" href="styles.css" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
  <div class="title">
      <picture>
        <source media="(prefers-color-scheme: dark)" srcset="../icons/icon-main-s.png">
        <img class="header-icon" src="../icons/icon-main-s color.png" alt="Extension Icon" style="width: 22px; height: 22px" />
      </picture>
    <h2>Open Prompt Manager</h2>
    <a href="index.html" target="_blank">
      <img id="open-new-tab" class="header-icon" src="../icons/open_in_new.svg" alt="Open in New Tab"
        title="Open in New Tab" />
    </a>
  </div>
  <form id="prompt-form">
    <input type="hidden" id="prompt-index" />
    <input type="text" id="prompt-title" placeholder="Prompt Title" required />
    <textarea id="prompt-content" placeholder="Enter your prompt here - Use #variablename# for dynamic values." required style="height: 100%"></textarea>
    <button class="main" type="submit" id="submit-button">
      <img src="../icons/add-icon.png" alt="Add" style="margin-right: 5px" />
      Save prompt
    </button>
    <button type="button" id="cancel-edit-button" style="display: none">
      Cancel
    </button>
  </form>
  <div id="info-banner" class="info-banner" role="status" aria-live="polite">
    <button id="info-banner-close" class="info-banner-close" aria-label="Dismiss info banner">&times;</button>
    <h3 class="info-banner-title">New updates, new features!</h3>
    <br />
    <p class="info-banner-text">Hey there,</p> 
    <br />
    <p class="info-banner-text">I won't do this often, but I'm happy to share that V2 finally got delivered! It brings new features and improvements, and is a foundation for some pretty cool stuff.</p>
    <ul class="info-banner-list">
      <li>Now supporting 19 LLMs!</li>
      <li>Permissions manager for new LLMs.</li>
      <li>Responsive sidepanel for composing prompts.</li>
      <li>Copy & paste from the side panel & right click menu.</li>
      <li>New setting : Append the prompt to input.</li> 
      <li>Now looks better than ever, both in light & dark mode.</li>      
    </ul>
    <br />
    <p class="info-banner-text">Permissions management is handled using the <strong><a href="../permissions/permissions.html" target="_blank">lock icon</a></strong> on the bottom right of the side panel.</p>
    <br />
    <p class="info-banner-text">For the many users that have shown support, shared feedback, and used the extension, I'd like to take the occasion to say <strong>thank you</strong>.</p>
    <br />
    <p class="info-banner-text">Don't hesitate to review <a href="https://chromewebstore.google.com/detail/open-prompt-manager/gmhaghdbihgenofhnmdbglbkbplolain" target="_blank">Open Prompt Manager</a> on the Chrome Web Store.</p>
    <br />
    <p class="info-banner-text">Thanks again!</p>
  </div>
  <div class="prompts-container">
    <div class="prompts-section">
      <!-- COMMENT: Empty state when no LLM provider permissions are enabled -->
      <div id="permissions-shortcut" class="shortcut-container" style="display: none">
        <p style="margin: 8px 0">Open the permissions manager to add the AI tools you use to get started.</p>
        <a href="../permissions/permissions.html" target="_blank" style="text-decoration: none">
          <button class="main" type="button" title="Open Permissions Manager">
            <img src="../icons/permissions-icon.svg" alt="Permissions" style="margin-right: 6px" />
            Open Permissions Manager
          </button>
        </a>
      </div>
      <ul id="prompt-list">

      </ul>
      <!-- Add title and message about storage changes -->
      <div id="empty-state" class="shortcut-container" style="display: none">
        <h3>Keyboard Navigation &amp; Shortcuts</h3>
        <p>These can be used on any page supported by the extension.</p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: var(--primary);
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">
            Hover/Click </span> <span>Open prompt list buttons</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: var(--primary);
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">
            ⌘ + ⇧ + P or Ctrl + M </span> <span>Open / close prompt list</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: var(--primary);
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">↑↓</span> <span>Navigate the prompt list</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: var(--primary);
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">Enter</span> <span>Select a prompt</span> </p>
        <p style="display: flex; align-items: center; margin: 8px 0"> <span style="
                background-color: var(--primary);
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                margin-right: 10px;
              ">Esc</span> <span>Close the prompt manager</span> </p>
      </div>
    </div>
  </div>
  <div class="dataimpexp">
    <button class="main" id="export-btn">Export prompts</button>
    <span></span>
    <button class="main" id="import-btn">Import prompts</button>
    <input type="file" id="import-file" accept=".json" hidden />
  </div>
  <p></p>
  <!-- Sticky footer for icons/links -->
  <footer class="footer">
    <div class="footer-icons" style="display: flex; align-items: center; gap: 8px;">
      <a id="link" href="https://github.com/jonathanbertholet/promptmanager"
        target="_blank" title="Github"><img class="footer-icons" src="../icons/github-icon.png" alt="Github" /></a>
      <a id="link" href="https://chromewebstore.google.com/detail/open-prompt-manager/gmhaghdbihgenofhnmdbglbkbplolain"
        target="_blank" title="Review me"><img class="footer-icons" src="../icons/review-icon.png" alt="Review me" /></a>
      <a id="link" href="../settings.html" title="Settings"><img id="settings-icon" class="footer-icons"
          src="../icons/settings-icon.png" alt="Settings" /></a>
      <a id="link" href="../permissions/permissions.html" title="Activate more LLMs" target="_blank" style="text-decoration: none;">
        <span style="
          display: inline-flex;
          align-items: center;
          background-color: var(--primary, #3674B5);
          color: #fff;
          padding: 4px 14px;
          border-radius: 999px;
          font-size: 13px;
          font-weight: 500;
          gap: 7px;
          box-shadow: 0 1px 2px rgba(0,0,0,0.04);
          transition: background 0.15s;
        ">
          <img id="permissions-icon" class="footer-icons" src="../icons/permissions-icon.svg" alt="Activate more LLMs" style="width: 14px; height: 14px; margin: 0; filter: brightness(0) invert(1);" />
          Activate more LLMs
        </span>
      </a>
    </div>
  </footer>
  <script type="module" src="sidepanel.js"></script>

</body>

</html>